<?php
require_once './Servicio/Db.php';
require_once './Modelo/Reloj.php';

class CatalogoController {
    public function mostrarCatalogo() {
        if (isset($_GET['marca'])) {
            $relojes = Reloj::obtenerPorMarca($_GET['marca']);
        } else {
            $relojes = Reloj::obtenerTodos();
        }

        $relojesPorMarca = [];
        foreach ($relojes as $reloj) {
            $relojesPorMarca[$reloj->getMarca()][] = $reloj;
        }

        require_once './Vista/catalogo.php';
    }
}

$controller = new CatalogoController();
$controller->mostrarCatalogo();
?>